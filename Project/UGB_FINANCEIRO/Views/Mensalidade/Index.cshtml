@model IEnumerable<UGB_FINANCEIRO.Models.Mensalidade>

@{
    ViewBag.Title = "Financeiro";
}

<div class="crud">
    <div class="titulo">
        MÓDULO FINANCEIRO
    </div>
    <div class="content">
        <div class="display-data">
            Data Hoje: @DateTime.Now.Date.ToString("dd/MM/yyyy")
        </div>
        <div class="btn-cadastrar">
            @Html.ActionLink("Cadastrar Mensalidade", "Create", null, 
                            new { @class = "btn btn-primary" })
        </div>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Curso.Tipo.Tipo1)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Curso.NomeCurso)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ValorMensalidade)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataVencimento)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.JurosAoDia)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PercentualBolsa)
                </th>
                <th>
                    Valor Pagar
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Curso.Tipo.Tipo1)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Curso.NomeCurso)
                    </td>
                    <td>
                        R$ @Html.DisplayFor(modelItem => item.ValorMensalidade)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataVencimento)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.JurosAoDia)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PercentualBolsa)%
                    </td>
                    <td>
                        R$ @string.Format("{0:0.00}", item.CalculaValorPagar())
                    </td>
                    <td>
                        @Html.ActionLink("Alterar", "Edit", null, new { id = item.idMensalidade }, new { @class = "btn-acao" })
                        @Html.ActionLink("Deletar", "Delete", null, new { id = item.idMensalidade }, new { @class = "btn-acao" })
                    </td>
                </tr>
            }

        </table>
    </div>
</div>